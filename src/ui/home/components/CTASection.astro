---
import { useTranslations } from "@i18n/utils";
import type { languages } from "@i18n/ui";
import Button from "@ui/_shared/components/Button.astro";

interface Props {
  lang: keyof typeof languages;
  phone?: string;
}

const { lang, phone = "573188326497" } = Astro.props;
const t = useTranslations(lang);

const whatsappMessage = encodeURIComponent(t('whatsapp.message'));
const whatsappUrl = `https://wa.me/${phone}?text=${whatsappMessage}`;
---

<section class="py-16 md:py-24 px-4 md:px-8 bg-gradient-to-br from-[#ff6b35] to-[#ff8555] text-white text-center">
  <div class="max-w-4xl mx-auto">
    <h2 class="text-3xl md:text-4xl lg:text-5xl mb-8 md:mb-10 font-bold">
      {t('cta.title')}
    </h2>
    <Button
      href={whatsappUrl}
      variant="secondary"
      size="lg"
      target="_blank"
      rel="noopener noreferrer"
    >
      <span class="inline-flex items-center gap-2 md:gap-3">
        <span class="text-2xl md:text-3xl">ðŸ’¬</span>
        <span>{t('cta.button')}</span>
      </span>
    </Button>
  </div>
</section>
